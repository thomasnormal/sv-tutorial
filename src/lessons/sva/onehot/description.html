<p>SystemVerilog provides built-in functions for checking bit-count invariants — exactly what bus arbiters need:</p>
<ul>
  <li><code>$onehot(v)</code> — true when <em>exactly one</em> bit of <code>v</code> is 1</li>
  <li><code>$onehot0(v)</code> — true when <em>zero or one</em> bits are 1</li>
  <li><code>$countones(v)</code> — returns the <em>number</em> of set bits; use in expressions like <code>$countones(v) &lt;= 2</code></li>
</ul>
<p>Open <code>arbiter_check.sv</code> and add two properties:</p>
<ol>
  <li><strong>grant_onehot_p</strong>: whenever <code>any_grant</code> is high, <code>grant</code> must be one-hot — use <code>$onehot(grant)</code></li>
  <li><strong>grant_idle_p</strong>: whenever <code>any_grant</code> is low, <code>grant</code> must be all zeros</li>
</ol>
<blockquote><p><code>|req</code> is a reduction OR: it is 1 if any bit of <code>req</code> is 1. It is often used as a shorthand antecedent: <code>|req |-> $onehot0(gnt)</code> means "when any request is active, at most one grant is given."</p></blockquote>
